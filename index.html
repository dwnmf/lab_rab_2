<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2 - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --light: #ecf0f1;
            --border: #bdc3c7;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 { color: var(--primary); }
        h1 { text-align: center; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #7f8c8d; margin-bottom: 30px; }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 6px;
            background-color: #fff;
        }
        .section h3 { margin-top: 0; border-bottom: 2px solid var(--accent); padding-bottom: 10px; display: inline-block; }
        
        .input-group {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        .input-group label { font-weight: bold; flex: 1; min-width: 200px; }
        .input-group input {
            flex: 0 0 150px;
            padding: 8px;
            border: 1px solid var(--border);
            border-radius: 4px;
        }
        .input-group span.hint {
            font-size: 0.85em;
            color: #7f8c8d;
            margin-left: 10px;
            flex: 1;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 0.9em;
        }
        th, td {
            border: 1px solid var(--border);
            padding: 8px;
            text-align: center;
        }
        th { background-color: var(--light); }
        .calc-res { font-weight: bold; color: var(--accent); }
        .error-val { color: #e74c3c; }
        .pass { color: #27ae60; font-weight: bold; }
        .fail { color: #c0392b; font-weight: bold; }

        .btn-print {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--primary);
            color: white;
            text-align: center;
            border: none;
            border-radius: 6px;
            font-size: 1.2em;
            cursor: pointer;
            margin-top: 20px;
        }
        .btn-print:hover { background-color: #34495e; }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ—Ç—á–µ—Ç–∞ (—Å–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—ã, –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü—ã) */
        @media print {
            body { background-color: #fff; padding: 0; }
            .container { box-shadow: none; max-width: 100%; width: 100%; padding: 0; }
            .no-print, .input-group, button, .hint { display: none !important; }
            .section { border: none; padding: 0; margin-bottom: 20px; }
            input { border: none; background: transparent; font-weight: bold; text-align: center; padding: 0; width: auto; }
            .calc-res { color: #000; }
            h1 { font-size: 18pt; }
            h3 { font-size: 14pt; border-bottom: 1px solid #000; }
            table { page-break-inside: avoid; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2</h1>
    <div class="subtitle">–ò–∑–º–µ—Ä–µ–Ω–∏–µ –ª–∏–Ω–µ–π–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ —à—Ç–∞–Ω–≥–µ–Ω—Ü–∏—Ä–∫—É–ª–µ–º</div>
    
    <div class="no-print" style="background: #e8f6f3; padding: 15px; border-radius: 5px; margin-bottom: 20px; border-left: 5px solid #1abc9c;">
        <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong> –ó–∞–ø–æ–ª–Ω—è–π—Ç–µ –±–µ–ª—ã–µ –ø–æ–ª—è –≤–∞—à–∏–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç –≤—Å–µ –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏, –∑–∞–ø–æ–ª–Ω–∏—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–¥–µ–ª–∞–µ—Ç –≤—ã–≤–æ–¥—ã.
    </div>

    <!-- –†–∞–∑–¥–µ–ª 1: –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ -->
    <div class="section">
        <h3>1. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ —à—Ç–∞–Ω–≥–µ–Ω—Ü–∏—Ä–∫—É–ª—è</h3>
        <div class="input-group no-print">
            <label>–ü—Ä–µ–¥–µ–ª—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π (–º–º):</label>
            <input type="text" id="rangeInput" value="0 - 125" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 0 - 125">
        </div>
        <div class="input-group no-print">
            <label>–¶–µ–Ω–∞ –¥–µ–ª–µ–Ω–∏—è –Ω–æ–Ω–∏—É—Å–∞ (–º–º):</label>
            <input type="number" id="precisionInput" value="0.1" step="0.05">
        </div>

        <table>
            <tr>
                <td style="text-align: left;">–ü—Ä–µ–¥–µ–ª—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤</td>
                <td><span id="outRange">0 - 125</span> –º–º</td>
            </tr>
            <tr>
                <td style="text-align: left;">–¶–µ–Ω–∞ –¥–µ–ª–µ–Ω–∏—è —à–∫–∞–ª—ã –Ω–æ–Ω–∏—É—Å–∞</td>
                <td><span id="outPrecision">0.1</span> –º–º</td>
            </tr>
            <!-- –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è —á–∞—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º–∏ –∏–ª–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é –Ω–∞ –ø–µ—á–∞—Ç–∏ -->
            <tr>
                <td style="text-align: left;">–¶–µ–Ω–∞ –¥–µ–ª–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π —à–∫–∞–ª—ã</td>
                <td>1 –º–º</td>
            </tr>
        </table>
    </div>

    <!-- –†–∞–∑–¥–µ–ª 2: –ü–æ–≤–µ—Ä–∫–∞ -->
    <div class="section">
        <h3>2. –ü–æ–≤–µ—Ä–∫–∞ —à—Ç–∞–Ω–≥–µ–Ω—Ü–∏—Ä–∫—É–ª—è</h3>
        <p class="no-print">–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä—ã —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö –ø–ª–∏—Ç–æ–∫ (–ú–µ—Ä) –∏ —Ç–æ, —á—Ç–æ –ø–æ–∫–∞–∑–∞–ª –ø—Ä–∏–±–æ—Ä.</p>
        
        <table>
            <thead>
                <tr>
                    <th>–†–∞–∑–º–µ—Ä –º–µ—Ä—ã (M), –º–º</th>
                    <th>–ò–∑–º–µ—Ä–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä (Mr), –º–º</th>
                    <th>–ü–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (Mr - M), –º–º</th>
                    <th>–î–æ–ø—É—Å–∫–∞–µ–º–∞—è –ø–æ–≥—Ä. (¬±E), –º–º</th>
                    <th>–í—ã–≤–æ–¥</th>
                </tr>
            </thead>
            <tbody id="verifyTable">
                <!-- –°—Ç—Ä–æ–∫–∞ 1 -->
                <tr>
                    <td><input type="number" class="verify-m" step="0.01" value="1.05"></td>
                    <td><input type="number" class="verify-mr" step="0.01"></td>
                    <td><span class="verify-diff calc-res">-</span></td>
                    <td><span class="verify-tol">¬±<span class="tol-val">0.1</span></span></td>
                    <td><span class="verify-res">-</span></td>
                </tr>
                <!-- –°—Ç—Ä–æ–∫–∞ 2 -->
                <tr>
                    <td><input type="number" class="verify-m" step="0.01" value="3.5"></td>
                    <td><input type="number" class="verify-mr" step="0.01"></td>
                    <td><span class="verify-diff calc-res">-</span></td>
                    <td><span class="verify-tol">¬±<span class="tol-val">0.1</span></span></td>
                    <td><span class="verify-res">-</span></td>
                </tr>
                <!-- –°—Ç—Ä–æ–∫–∞ 3 -->
                <tr>
                    <td><input type="number" class="verify-m" step="0.01" value="7.0"></td>
                    <td><input type="number" class="verify-mr" step="0.01"></td>
                    <td><span class="verify-diff calc-res">-</span></td>
                    <td><span class="verify-tol">¬±<span class="tol-val">0.1</span></span></td>
                    <td><span class="verify-res">-</span></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- –†–∞–∑–¥–µ–ª 3: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π –¥–µ—Ç–∞–ª–∏ -->
    <div class="section">
        <h3>3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π –¥–µ—Ç–∞–ª–∏</h3>
        <div class="input-group no-print">
            <label>–î–æ–ø—É—Å–∫ —Ä–∞–∑–º–µ—Ä–∞ (TZ) –¥–ª—è IT9:</label>
            <input type="number" id="tzInput" value="0.052" step="0.001">
            <span class="hint">–û–±—ã—á–Ω–æ 0.052 –º–º –¥–ª—è —Ä–∞–∑–º–µ—Ä–æ–≤ ~30–º–º</span>
        </div>

        <table id="measureTable">
            <thead>
                <tr>
                    <th>–†–∞–∑–º–µ—Ä</th>
                    <th>–†–µ–∑—É–ª—å—Ç–∞—Ç (Zr), –º–º</th>
                    <th>–ù–æ–º–∏–Ω–∞–ª (Z), –º–º</th>
                    <th>–ü–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (Zr - Z), –º–º</th>
                    <th>–î–æ–ø—É—Å–∫ (TZ), –º–º</th>
                    <th>–í—ã–≤–æ–¥ (–ì–æ–¥–µ–Ω?)</th>
                </tr>
            </thead>
            <tbody>
                <!-- B -->
                <tr>
                    <td><b>B</b></td>
                    <td><input type="number" class="meas-zr" data-id="B" step="0.05"></td>
                    <td><span class="meas-z calc-res">-</span></td>
                    <td><span class="meas-diff calc-res">-</span></td>
                    <td rowspan="6" style="vertical-align: middle;"><span id="outTZ">0.052</span></td>
                    <td><span class="meas-res">-</span></td>
                </tr>
                <!-- C -->
                <tr>
                    <td><b>C</b></td>
                    <td><input type="number" class="meas-zr" data-id="C" step="0.05"></td>
                    <td><span class="meas-z calc-res">-</span></td>
                    <td><span class="meas-diff calc-res">-</span></td>
                    <td><span class="meas-res">-</span></td>
                </tr>
                <!-- D1 -->
                <tr>
                    <td><b>D1</b></td>
                    <td><input type="number" class="meas-zr" id="inpD1" step="0.05"></td>
                    <td><span class="meas-z calc-res">-</span></td>
                    <td><span class="meas-diff calc-res">-</span></td>
                    <td><span class="meas-res">-</span></td>
                </tr>
                <!-- D2 -->
                <tr>
                    <td><b>D2</b></td>
                    <td><input type="number" class="meas-zr" id="inpD2" step="0.05"></td>
                    <td><span class="meas-z calc-res">-</span></td>
                    <td><span class="meas-diff calc-res">-</span></td>
                    <td><span class="meas-res">-</span></td>
                </tr>
                <!-- F -->
                <tr>
                    <td><b>F</b></td>
                    <td><input type="number" class="meas-zr" id="inpF" step="0.05"></td>
                    <td><span class="meas-z calc-res">-</span></td>
                    <td><span class="meas-diff calc-res">-</span></td>
                    <td><span class="meas-res">-</span></td>
                </tr>
                <!-- G -->
                <tr>
                    <td><b>G</b></td>
                    <td><input type="number" class="meas-zr" id="inpG" step="0.05"></td>
                    <td><span class="meas-z calc-res">-</span></td>
                    <td><span class="meas-diff calc-res">-</span></td>
                    <td><span class="meas-res">-</span></td>
                </tr>
                <!-- –†–∞—Å—á–µ—Ç–Ω—ã–µ A -->
                <tr style="background-color: #f9f9f9;">
                    <td><i>A'</i> (—á–µ—Ä–µ–∑ F)</td>
                    <td colspan="5" style="text-align: left; padding-left: 20px;">
                        A' = F - (D1+D2)/2 = <span id="outA1" class="calc-res">-</span>
                    </td>
                </tr>
                <tr style="background-color: #f9f9f9;">
                    <td><i>A''</i> (—á–µ—Ä–µ–∑ G)</td>
                    <td colspan="5" style="text-align: left; padding-left: 20px;">
                        A'' = G + (D1+D2)/2 = <span id="outA2" class="calc-res">-</span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- –†–∞–∑–¥–µ–ª 4: –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ –ê -->
    <div class="section">
        <h3>4. –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑–º–µ—Ä–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–∞ –ê</h3>
        <p class="no-print">–†–∞—Å—á–µ—Ç —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –∏–∑-–∑–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–Ω–æ—Å—Ç–∏ –≥—É–±–æ–∫ (—Ç–æ–ª—â–∏–Ω–∞ b = 3.5 –º–º).</p>
        
        <table>
            <tr>
                <td style="text-align: left; width: 60%;">–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (Œîh1) –¥–ª—è D1</td>
                <td style="text-align: left;">= <span id="valDh1" class="calc-res">-</span> –º–º</td>
            </tr>
            <tr>
                <td style="text-align: left;">–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (Œîh2) –¥–ª—è D2</td>
                <td style="text-align: left;">= <span id="valDh2" class="calc-res">-</span> –º–º</td>
            </tr>
            <tr>
                <td style="text-align: left;">–°—É–º–º–∞—Ä–Ω–∞—è —Ç–µ–æ—Ä. –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å (ŒîA —Ç–µ–æ—Ä)</td>
                <td style="text-align: left;">= <span id="valDhSum" class="calc-res">-</span> –º–º</td>
            </tr>
            <tr>
                <td style="text-align: left;">–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–æ—Å—Ç—å (ŒîA —ç–∫—Å–ø = |A'' - A'|)</td>
                <td style="text-align: left;">= <span id="valDiffA" class="calc-res">-</span> –º–º</td>
            </tr>
            <tr>
                <td style="text-align: left;">–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è (ŒîA —ç–∫—Å–ø < ŒîA —Ç–µ–æ—Ä)</td>
                <td style="text-align: left;"><span id="finalCheck">-</span></td>
            </tr>
        </table>
    </div>

    <button class="btn-print" onclick="window.print()">üñ® –†–∞—Å–ø–µ—á–∞—Ç–∞—Ç—å –æ—Ç—á–µ—Ç</button>

</div>

<script>
    // –£—Ç–∏–ª–∏—Ç—ã
    function round(num, decimals = 2) {
        if (num === "" || num === null || isNaN(num)) return null;
        return Math.round(num * Math.pow(10, decimals)) / Math.pow(10, decimals);
    }

    // 1. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
    const rangeInput = document.getElementById('rangeInput');
    const precisionInput = document.getElementById('precisionInput');
    const outRange = document.getElementById('outRange');
    const outPrecision = document.getElementById('outPrecision');
    const tolVals = document.querySelectorAll('.tol-val');

    function updateSpecs() {
        outRange.textContent = rangeInput.value;
        outPrecision.textContent = precisionInput.value;
        const tol = precisionInput.value; 
        tolVals.forEach(el => el.textContent = tol);
        updateVerification(); // –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –ø–æ–≤–µ—Ä–∫—É, —Ç.–∫. –¥–æ–ø—É—Å–∫ –∏–∑–º–µ–Ω–∏–ª—Å—è
    }

    rangeInput.addEventListener('input', updateSpecs);
    precisionInput.addEventListener('input', updateSpecs);

    // 2. –ü–æ–≤–µ—Ä–∫–∞
    const verifyTable = document.getElementById('verifyTable');
    
    function updateVerification() {
        const rows = verifyTable.querySelectorAll('tr');
        const tolerance = parseFloat(precisionInput.value) || 0.1;

        rows.forEach(row => {
            const mInput = row.querySelector('.verify-m');
            const mrInput = row.querySelector('.verify-mr');
            const diffSpan = row.querySelector('.verify-diff');
            const resSpan = row.querySelector('.verify-res');

            const m = parseFloat(mInput.value);
            const mr = parseFloat(mrInput.value);

            if (!isNaN(m) && !isNaN(mr)) {
                const diff = round(mr - m, 2);
                diffSpan.textContent = diff;
                
                if (Math.abs(diff) <= tolerance) {
                    resSpan.textContent = "–°–æ–æ—Ç–≤.";
                    resSpan.className = "verify-res pass";
                } else {
                    resSpan.textContent = "–ù–µ —Å–æ–æ—Ç–≤.";
                    resSpan.className = "verify-res fail";
                }
            } else {
                diffSpan.textContent = "-";
                resSpan.textContent = "-";
                resSpan.className = "verify-res";
            }
        });
    }

    verifyTable.addEventListener('input', updateVerification);

    // 3. –ò–∑–º–µ—Ä–µ–Ω–∏—è –∏ 4. –ê–Ω–∞–ª–∏–∑
    const measInputs = document.querySelectorAll('.meas-zr');
    const tzInput = document.getElementById('tzInput');
    const outTZ = document.getElementById('outTZ');
    
    // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ê
    const inpD1 = document.getElementById('inpD1');
    const inpD2 = document.getElementById('inpD2');
    const inpF = document.getElementById('inpF');
    const inpG = document.getElementById('inpG');
    const outA1 = document.getElementById('outA1');
    const outA2 = document.getElementById('outA2');

    // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    const valDh1 = document.getElementById('valDh1');
    const valDh2 = document.getElementById('valDh2');
    const valDhSum = document.getElementById('valDhSum');
    const valDiffA = document.getElementById('valDiffA');
    const finalCheck = document.getElementById('finalCheck');

    const B_JAW = 3.5; // –¢–æ–ª—â–∏–Ω–∞ –≥—É–±–æ–∫ –∏–∑ –º–µ—Ç–æ–¥–∏—á–∫–∏

    function calculateTheoreticalError(diameter) {
        if (!diameter) return 0;
        const R = diameter / 2;
        // –§–æ—Ä–º—É–ª–∞: dh = R - sqrt(R^2 - b^2/4)
        const inner = (R * R) - ((B_JAW * B_JAW) / 4);
        if (inner < 0) return 0; // –ï—Å–ª–∏ –æ—Ç–≤–µ—Ä—Å—Ç–∏–µ —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ –¥–ª—è –≥—É–±–æ–∫
        return R - Math.sqrt(inner);
    }

    function updateMeasurements() {
        const tz = parseFloat(tzInput.value) || 0.052;
        outTZ.textContent = tz;

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–∞–±–ª–∏—Ü—É –∏–∑–º–µ—Ä–µ–Ω–∏–π
        measInputs.forEach(input => {
            const row = input.closest('tr');
            const zSpan = row.querySelector('.meas-z');
            const diffSpan = row.querySelector('.meas-diff');
            const resSpan = row.querySelector('.meas-res');

            const zr = parseFloat(input.value);

            if (!isNaN(zr)) {
                const z = Math.round(zr); // –ù–æ–º–∏–Ω–∞–ª - –±–ª–∏–∂–∞–π—à–µ–µ —Ü–µ–ª–æ–µ
                zSpan.textContent = z;
                
                const diff = round(zr - z, 3);
                diffSpan.textContent = diff;

                if (Math.abs(diff) <= tz) {
                    resSpan.textContent = "–ì–æ–¥–µ–Ω";
                    resSpan.className = "meas-res pass";
                } else {
                    resSpan.textContent = "–ë—Ä–∞–∫";
                    resSpan.className = "meas-res fail";
                }
            } else {
                zSpan.textContent = "-";
                diffSpan.textContent = "-";
                resSpan.textContent = "-";
                resSpan.className = "meas-res";
            }
        });

        // –†–∞—Å—á–µ—Ç –ê –∏ –ê–Ω–∞–ª–∏–∑
        const d1 = parseFloat(inpD1.value);
        const d2 = parseFloat(inpD2.value);
        const f = parseFloat(inpF.value);
        const g = parseFloat(inpG.value);

        if (!isNaN(d1) && !isNaN(d2) && !isNaN(f) && !isNaN(g)) {
            // –†–∞—Å—á–µ—Ç –ê
            const a1 = f - (d1 + d2) / 2;
            const a2 = g + (d1 + d2) / 2;
            
            outA1.textContent = round(a1, 3);
            outA2.textContent = round(a2, 3);

            // –ê–Ω–∞–ª–∏–∑
            const dh1 = calculateTheoreticalError(d1);
            const dh2 = calculateTheoreticalError(d2);
            const dhSum = dh1 + dh2;
            const diffExp = Math.abs(a2 - a1);

            valDh1.textContent = round(dh1, 4);
            valDh2.textContent = round(dh2, 4);
            valDhSum.textContent = round(dhSum, 4);
            valDiffA.textContent = round(diffExp, 4);

            if (diffExp < dhSum) {
                finalCheck.textContent = "–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (–û–ö)";
                finalCheck.className = "pass";
            } else {
                finalCheck.textContent = "–ù–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (–û—à–∏–±–∫–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π)";
                finalCheck.className = "fail";
            }

        } else {
            outA1.textContent = "-";
            outA2.textContent = "-";
            valDh1.textContent = "-";
            valDh2.textContent = "-";
            valDhSum.textContent = "-";
            valDiffA.textContent = "-";
            finalCheck.textContent = "-";
            finalCheck.className = "";
        }
    }

    document.getElementById('measureTable').addEventListener('input', updateMeasurements);
    tzInput.addEventListener('input', updateMeasurements);

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    updateSpecs();
    updateVerification();
    updateMeasurements();

</script>

</body>
</html>
